<!DOCTYPE html>
<html>

<head>

    <title>FLL RePLAY Strategy Planner</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0" />
    <meta name="color-scheme" content="light dark" />

    <script src="assets/js/jquery-1.11.3.min.js"></script>


    <script>
        $(document).bind('mobileinit', function() {
            $.mobile.changePage.defaults.changeHash = false;
            $.mobile.hashListeningEnabled = false;
            $.mobile.pushStateEnabled = false;
        });

        language = "en"
    </script>
    <script src="assets/js/highcharts.js"></script>
    <script src="assets/js/exporting.js"></script>
    <script src="assets/js/scorer.js"></script>
    <script src="assets/js/timers.js"></script>
    <script src="assets/js/saver.js"></script>
    <script src="assets/js/html.js"></script>
    <script src="assets/js/jquery.mobile-1.4.5.min.js"></script>

    <script type="text/javascript" src="assets/js/jqm-spinbox.min.js"></script>
    <link rel="manifest" href="assets/scorer.webmanifest">

    <link rel="stylesheet" href="assets/css/jquery.mobile-1.4.5.min.css">
    <!--    <link rel="stylesheet" href="assets/css/tournament.css"> -->
    <link rel="stylesheet" href="assets/css/jquery.mobile.icons.min.css" />
    <link rel="stylesheet" href="assets/css/scorer.min.css" />

    <div id="mobileCSS"></div>
    <script>
        window.mobileAndTabletCheck = function() {
            let check = false;
            (function(a) {
                if (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0, 4))) check = true;
            })(navigator.userAgent || navigator.vendor || window.opera);
            return check;
        };

        function detectMob() {
            const toMatch = [
                /Android/i,
                /webOS/i,
                /iPhone/i,
                /iPad/i,
                /iPod/i,
                /BlackBerry/i,
                /Windows Phone/i
            ];

            return toMatch.some((toMatchItem) => {
                return navigator.userAgent.match(toMatchItem);
            });
        }

        function detectIOS() {
            var standalone = window.navigator.standalone,
                userAgent = window.navigator.userAgent.toLowerCase(),
                safari = /safari/.test(userAgent),
                ios = /iphone|ipod|ipad/.test(userAgent);

            if (ios) {
                if (!standalone && safari) {
                    return false
                } else if (standalone && !safari) {
                    return true
                } else if (!standalone && !safari) {
                    return true
                };
            } else {
                return false
            };
        }
        //document.write(navigator.userAgent)
        if (mobileAndTabletCheck()) {
            document.getElementById("mobileCSS").innerHTML = "<style>.no-mobile { display: none;}</style>"
        } else {
            document.getElementById("mobileCSS").innerHTML = "<style>.no-mobile { display: inline;}</style>"
        }
        // alert(detectMob())
    </script>
    <style>
        .only-mobile {
            display: none;
        }
        
        .highcharts-button {
            display: none;
        }
        
        .only-print,
        .only-print * {
            display: none !important;
        }
        
        @media print {
            .no-print,
            .no-print * {
                display: none !important;
            }
            .only-print,
            .only-print * {
                display: block !important;
            }
            body {
                width: 800px;
                height: 100%;
            }
        }
        
        @page {
            size: A4 portrait;
            margin: 0.5cm;
        }
        
        a:link img {
            opacity: 1.0;
            filter: alpha(opacity=100);
            /* For IE8 and earlier */
            filter: alpha(opacity=60);
            /* For IE8 and earlier */
            transition: opacity .5s ease-in-out;
            -moz-transition: opacity .5s ease-in-out;
            -webkit-transition: opacity .5s ease-in-out;
        }
        
        a:hover img {
            opacity: 0.6;
            filter: alpha(opacity=60);
            /* For IE8 and earlier */
            transition: opacity .5s ease-in-out;
            -moz-transition: opacity .5s ease-in-out;
            -webkit-transition: opacity .5s ease-in-out;
        }
        
        table tr td {
            padding-left: 0px;
            padding-right: 0px;
            border-collapse: collapse;
        }
        
        #missionlist {
            width: auto;
            -webkit-column-width: 325px;
            -moz-column-width: 325px;
            column-width: 325px;
            -webkit-column-count: 3;
            -moz-column-count: 3;
            column-count: 3;
            -webkit-column-gap: 0;
            -moz-column-gap: 0;
            column-gap: 0;
        }
        
        .missionFmt {
            padding-right: 3;
            padding-left: 0;
            -webkit-column-break-inside: avoid;
            page-break-inside: avoid;
            break-inside: avoid;
        }
        
        * {
            text-shadow: none;
        }
    </style>
    <script src="assets/languages.js"></script>

    <script src="assets/js/language-detector.js">
    </script>


    <link rel="manifest" href="manifest.webmanifest">
    <meta name="theme-color" content="#1976d2">
</head>



<body id="wholeBody">

    <!-- start drawplan-->



    <!--end drawplan-->


    <!-- <img src="assets/images/ajax-loader.gif" id="loadingGif" style="background-color:white; width:50px; height: auto;position:fixed;left:50%;top:50%;margin-left: -25px;margin-top:-25px;z-index:10000000000000000000000000000000000000000;"> -->
    <div class="loader" id="loadingGif" style="position:fixed;left:50%;top:50%;margin-left: -25px;margin-top:-25px;z-index:10000000000000000000000000000000000000000;"></div>
    <style>
        .loader {
            border: 16px solid #f3f3f3;
            /* Light grey */
            border-top: 16px solid #3498db;
            /* Blue */
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 2s linear infinite;
        }
        
        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
    </style>

    <div id="contentload" style="display: none;">
        <!--display:none;-->
        <br>
        <table style="width:98%; text-align:center; margin-left:auto; margin-right:auto;border:none!important;">
            <tr>
                <td style="width:25%; text-align:left">
                    <script>
                        var page = '';
                        //              var page = window.location.href.split("?")[0].split("#")[0] + '?lang=';
                        var i;
                        for (i = 0; i < langs.length; i++) {
                            window[langs[i].split(':')[0].split('-')[0]] = page + langs[i].split(':')[0];
                        }
                        var i;
                        if ((navigator.userAgent.indexOf("MSIE") != -1) || (!!document.documentMode == true)) { // DCR is buggy in MSIE, use classic switcher
                            var i;
                            for (i = 0; i < langs.length; i++) {
                                document.write('\
                                <a class="no-print no-mobile" data-ajax="false" href="?lang=' + window[langs[i].split(":")[0].split("-")[0]] + '" onclick="createCookie(\'' + langs[i].split(":")[0] + '\');window.location.href="' + window[langs[i].split(":")[0].split("-")[0]] + '";setTimeout(function(){location.reload(true);},100)" style=" text-decoration: none">\
                                <img src="assets/images/icons/countries/small/' + langs[i].split(":")[1] + '.png" alt="' + langs[i].split(":")[2] + '" title="' + langs[i].split(":")[2] + '" width="26" height="26" border="0">\
                                </a>\
                                ')
                            }
                        } else {
                            for (i = 0; i < langs.length; i++) {
                                document.write('\
                                    <a class="no-print " data-ajax="false" href="" onclick="createCookie(\'' + langs[i].split(":")[0] + '\');language=\'' + window[langs[i].split(":")[0].split("-")[0]] + '\';switchLanguage();" style=" text-decoration: none">\
                                    <img src="assets/images/icons/countries/small/' + langs[i].split(":")[1] + '.png" alt="' + langs[i].split(":")[2] + '" title="' + langs[i].split(":")[2] + '" width="26" height="26" border="0">\
                                    </a>\
                                ')
                            }
                        }
                    </script>

                </td>

                <script>
                    function getParameterByName(name, url) {
                        if (!url) url = window.location.href;
                        name = name.replace(/[\[\]]/g, "\\$&");
                        var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
                            results = regex.exec(url);
                        if (!results) return null;
                        if (!results[2]) return '';
                        return decodeURIComponent(results[2].replace(/\+/g, " "));
                    }

                    if (getParameterByName('team') != null) {
                        document.getElementById('team_num').value = getParameterByName('team')
                        document.getElementById('round_num').value = getParameterByName('round')
                    }
                </script>

                <td style="width:50%; font-size:24px; text-align:center">
                    <b id="title">FLL RePlay Sketch Planner</b>
                </td>
                <td style="width:25%; font-size:12px; text-align:right">
                    <img alt="FLL Tutorials" style="border:1px solid #021a40;" src="assets/images/flltutorials.png" width="139">
                </td>
            </tr>
        </table>



        <!-- <div role="main" class="ui-content" style="padding-right:0; padding-left:0"> -->
        <div data-role="tabs">



            <div style="padding-left: 0px; " id="tabs-4">
                <div id="content">
                    <img id="mat" src="assets/images/head.jpg" width="1024" style="display:none;width:1024;
      height:auto;position: fixed;    bottom: -10000;   left: -100000" alt="The Mat">

                    <img style="display:none;" id="tmpimgholder">

                    <canvas style="display:none" id="tmpCanvas" width="778" height="389"></canvas>

                    <a style="display:none" download="myPlan.png" target="_blank" href="" id="downloadPic">Download to
                        myImage.jpg</a>

                    <div class="content-box">
                        <!-- jQuery UI -->
                        <script type="text/javascript" src="assets/./lib/jquery.ui.core.1.10.3.min.js"></script>
                        <script type="text/javascript" src="assets/./lib/jquery.ui.widget.1.10.3.min.js"></script>
                        <script type="text/javascript" src="assets/./lib/jquery.ui.mouse.1.10.3.min.js"></script>
                        <script type="text/javascript" src="assets/./lib/jquery.ui.draggable.1.10.3.min.js"></script>

                        <!-- wColorPicker -->
                        <link rel="Stylesheet" type="text/css" href="assets/./lib/wColorPicker.min.css" />
                        <script type="text/javascript" src="assets/./lib/wColorPicker.min.js"></script>

                        <!-- wPaint -->
                        <link rel="Stylesheet" type="text/css" href="assets/./wPaint.min.css" />
                        <script type="text/javascript" src="assets/./wPaint.min.js"></script>
                        <script type="text/javascript" src="assets/./plugins/main/wPaint.menu.main.min.js"></script>
                        <script type="text/javascript" src="assets/./plugins/text/wPaint.menu.text.min.js"></script>
                        <script type="text/javascript" src="assets/./plugins/shapes/wPaint.menu.main.shapes.min.js"></script>
                        <script type="text/javascript" src="assets/./plugins/file/wPaint.menu.main.file.min.js"></script>




                    </div>
                    <!-- <table>
            <tr>
              <td style="max-width:40px">         -->
                    <div style="border-color: black; border-width: 2px;" data-type="horizontal" data-role="controlgroup" style="position:relative;">
                        <script>
                            function changecolor(item) {
                                i = 0
                                while (i < document.getElementsByClassName("toolDraw").length) {
                                    document.getElementsByClassName("toolDraw")[i].style.borderColor = ""
                                    document.getElementsByClassName("toolDraw")[i].style.borderWidth = "1px"
                                    document.getElementsByClassName("toolDraw")[i].style.height = "10px"
                                    document.getElementsByClassName("toolDraw")[i].style.width = "10px"

                                    i = i + 1
                                }
                                item.style.borderColor = "lightgreen"
                                item.style.borderWidth = "5px"
                                item.style.height = "2px"
                                item.style.width = "1px"

                                // item.style.width = "0px"

                                //item.style.borderTop = "2px solid light#8aac4a"

                            }

                            function changeedit(item) {
                                i = 0
                                while (i < document.getElementsByClassName("toolEdit").length) {
                                    document.getElementsByClassName("toolEdit")[i].style.borderColor = ""
                                    document.getElementsByClassName("toolEdit")[i].style.borderWidth = "1px"
                                    document.getElementsByClassName("toolEdit")[i].style.height = "10px"
                                    document.getElementsByClassName("toolEdit")[i].style.width = "10px"

                                    i = i + 1
                                }
                                item.style.borderColor = "lightsalmon"
                                item.style.borderWidth = "5px"
                                item.style.height = "2px"
                                item.style.width = "1px"


                            }
                        </script>


                        <button data-inline="true" class="button toolDraw dpTool" onclick="changecolor(this);$('#wPaint').wPaint('setStrokeStyle','yellow');$('#wPaint').wPaint('setLineWidth',3);" style="border-color: lightgreen; border-width: 5px; background-color: yellow!important; width: 1px; height: 2px;
                                       background-size: contain;  background-position: center;
                                       background-repeat: no-repeat;"> </button>

                        <button data-inline="true" class="button toolDraw dpTool" onclick="changecolor(this);$('#wPaint').wPaint('setStrokeStyle','green');$('#wPaint').wPaint('setLineWidth',3);" style="background-color: green!important; width: 10px; height: 10px;   background-size: contain;  background-position: center;
                                      background-repeat: no-repeat;"> </button>

                        <button class="button toolDraw dpTool" onclick="changecolor(this);$('#wPaint').wPaint('setStrokeStyle','red');$('#wPaint').wPaint('setLineWidth',3);" style="background-color: red!important; width: 10px; height: 10px;   background-size: contain;  background-position: center;
                                   background-repeat: no-repeat;"> </button>
                        <button class="button toolDraw dpTool" onclick="changecolor(this);$('#wPaint').wPaint('setStrokeStyle','blue');$('#wPaint').wPaint('setLineWidth',3);" style="background-color: blue!important; width: 10px; height: 10px;   background-size: contain;  background-position: center;
                                    background-repeat: no-repeat;"> </button>
                        <button class="button toolDraw dpTool" onclick="changecolor(this);$('#wPaint').wPaint('setStrokeStyle','orange');$('#wPaint').wPaint('setLineWidth',3);" style="background-color: orange!important; width: 10px; height: 10px;   background-size: contain;  background-position: center;
                                background-repeat: no-repeat;"> </button>
                        <button class="button toolDraw dpTool" onclick="changecolor(this);$('#wPaint').wPaint('setStrokeStyle','brown');$('#wPaint').wPaint('setLineWidth',3);" style="background-color: brown!important; width: 10px; height: 10px;   background-size: contain;  background-position: center;
                                     background-repeat: no-repeat;"> </button>
                        <button class="button toolDraw dpTool" onclick="changecolor(this);$('#wPaint').wPaint('setStrokeStyle','black');$('#wPaint').wPaint('setLineWidth',3); toolDraw" style="background-color: black!important; width: 10px; height: 10px;   background-size: contain;  background-position: center;
                                     background-repeat: no-repeat;"> </button>
                        <button class="button toolDraw dpTool" onclick="changecolor(this);$('#wPaint').wPaint('setStrokeStyle','white');$('#wPaint').wPaint('setLineWidth',3);" style="background-color: white!important; width: 10px; height: 10px;   background-size: contain;  background-position: center;
                                     background-repeat: no-repeat;"> </button>
                        <button class="button dpTool" onclick="$('#wPaint').wPaint('clear');" style="background: url(assets/images/clear.png); background-color: grey !important;width: 10px; height: 10px;   background-size: contain;  background-position: center;
                  background-repeat: no-repeat;"> </button>
                        <button class="button toolEdit dpTool" onclick="drawmode='eraser'; changeedit(this); $('#wPaint').wPaint('setMode','eraser');$('#wPaint').wPaint('setLineWidth',10);" style="background: url(assets/images/eraser-icon-5.png); background-color: grey !important;width: 10px; height: 10px;   background-size: contain;  background-position: center;
                   background-repeat: no-repeat;"> </button>
                        <button class="button dpTool" onclick="$('#wPaint').wPaint('undo');" style="background: url(assets/images/undo.png); background-color: grey !important;width: 10px; height: 10px;   background-size: contain;  background-position: center;
                       background-repeat: no-repeat;"> </button>
                        <button class="button dpTool" onclick="$('#wPaint').wPaint('redo');" style="background: url(assets/images/redo.png); background-color: grey !important;width: 10px; height: 10px;   background-size: contain;  background-position: center;
                       background-repeat: no-repeat;"> </button>
                        <button class="button toolEdit dpTool" onclick="drawmode='pencil';changeedit(this); $('#wPaint').wPaint('setMode','pencil'); $('#wPaint').wPaint('setLineWidth',3);" style="border-color: lightsalmon; border-width: 5px;background: url(assets/images/pencil.png); background-color: grey !important;width: 1px; height: 2px;   background-size: contain;  background-position: center;
                                background-repeat: no-repeat;"> </button>
                        <button class="button toolEdit dpTool" onclick="drawmode='line';changeedit(this);$('#wPaint').wPaint('setMode','line'); $('#wPaint').wPaint('setLineWidth',3);" style="background: url(assets/images/line.png); background-color: grey !important;width: 10px; height: 10px;   background-size: contain;  background-position: center;
                              background-repeat: no-repeat;"> </button>
                        <button class="button toolEdit dpTool" onclick="drawmode='rectangle';changeedit(this);$('#wPaint').wPaint('setMode','rectangle'); $('#wPaint').wPaint('setLineWidth',3);$('#wPaint').wPaint('setFillStyle','transparent');" style="background: url(assets/images/rectangle.png); background-color: grey !important;width: 10px; height: 10px;   background-size: contain;  background-position: center;
                                                 background-repeat: no-repeat;"> </button>
                        <button class="button toolEdit dpTool" onclick="drawmode='text';changeedit(this);$('#wPaint').wPaint('setMode','text'); $('#wPaint').wPaint('setFontSize','25');$('#wPaint').wPaint('setFillStyle','red');" style="background: url(assets/images/text.png); background-color: grey !important;width: 10px; height: 10px;   background-size: contain;  background-position: center;
                                            background-repeat: no-repeat;"> </button>
                        <button class="button dpTool" onclick='$( "#popupMap" ).popup( "open" );' style="background: url(assets/images/save.png); background-color: white !important;width: 10px; height: 10px;   background-size: contain;  background-position: center;
                                           background-repeat: no-repeat;"> </button>
                    </div>
                    <!-- </td>
              <td>
                
    -->
                    <a style="display:none;" id="saveMenu" href="#popupMap" data-rel="popup" data-position-to="window" data-role="button" data-theme="a" data-inline="true" aria-haspopup="true" aria-owns="popupMap" aria-expanded="false" class="ui-link ui-btn ui-btn-a ui-btn-inline ui-shadow ui-corner-all ui-mini"
                        role="button">Open
                        Saves</a>

                    <script>
                        width = window.innerWidth
                            //height = String((width*530/944)-100)
                            //height = String((width*530/944))
                        height = window.innerHeight - 200

                        if (width < height * 2333 / 1166) {
                            height = width * 1166 / 2333
                        }
                        if (height < width * 1166 / 2333) {
                            width = height * 2333 / 1166
                        }

                        ppi = width/96

                        //  width = String(width)
                        //  height = screen.height-100

                        //  width = String(height*944/530)
                        //  height = String(height)

                        // width = window.innerWidth
                        // height = window.innerHeight-100

                        //944x530
                        //    document.write('<div  id="wPaint" style="position:fixed;    width:80%; top:0px;height:auto%; background-color:#7a7a7a; margin:70px auto    10px auto;">');

                        // document.write('<div  id="wPaint" style="position:fixed;    width:944px; height:530px; top:0px;height:auto%; background-color:#7a7a7a; margin:70px auto    10px auto;">');

                        //document.write('<div  id="wPaint" style="position:fixed;    top:10px; background-color:#7a7a7a; margin:70px auto    10px auto;">');
                        document.write('<div  id="wPaint" style="position:relative;   width:' + width + 'px; height:' + height + 'px; top:10px;height:auto%; background-color:#7a7a7a;margin-top:20px;">');
                    </script>
                    <style>
                        .wPaint-menu {
                            display: none !important;
                        }
                    </style>
                    <!-- height="100%" width="100%"-->
                    <div id="container">
                        <img src="assets/images/head.jpg" style="width: 100%;  height:auto;">
                        <div id="holder">
                        </div>
                    </div>
                    <script type="text/javascript" language="javascript">
                       var bw = width;
                        var bh = height;
                        var p = 0;
                        var cw = bw + (p*2) + 1;
                        var ch = bh + (p*2) + 1;
                    
                        function drawBoard(){
                    
                            // var img = document.getElementById("image");
                            // context.drawImage(img, 0, 0,1163,577);
                    
                            for (var x = 0; x <= bw; x += ppi/2.54*10) {
                                context.moveTo(0.5 + x + p, p);
                                context.lineTo(0.5 + x + p, bh + p);
                            }
                    
                            for (var x = 0; x <= bh; x += ppi/2.54*10) {
                                context.moveTo(p, 0.5 + x + p);
                                context.lineTo(bw + p, 0.5 + x + p);
                            }
                    
                            context.strokeStyle = "lightgrey";
                            context.lineWidth = 0.1;
                            context.stroke();
                            context.strokeStyle = "red";
                            context.lineWidth = 3;
                    
                    
                            canvas.addEventListener("mousemove", function (e) {
                            findxy('move', e)
                        }, false);
                        canvas.addEventListener("mousedown", function (e) {
                            findxy('down', e)
                        }, false);
                        document.getElementById('wPaint').addEventListener("mouseup", function (e) {
                            findxy('up', e)
                        }, false);
                        document.getElementById('wPaint').addEventListener("mouseout", function (e) {
                            console.log("out")

                            findxy('out', e)
                        }, false);
                        }
                    
                        var flag = false,
                            prevX = 0,
                            currX = 0,
                            prevY = 0,
                            currY = 0,
                            dot_flag = false;
                    
                    
                        var x = "black",
                            y = 2;
                            drawmode='pencil';
                        
                        function findxy(res, e) {
                            if (res == 'down') {
                                currX = e.clientX - canvas.getBoundingClientRect().x;
                                currY = e.clientY - canvas.getBoundingClientRect().y;
                                prevX = currX;
                                prevY = currY;
                                console.log("down")
                                ctx.beginPath();
                                ctx.fillStyle = x;
                                ctx.moveTo(currX, currY);
                                
                            }
                            if (res == 'up' ) {
                                console.log("up")

                                flag = false;
                                currX = e.clientX - canvas.getBoundingClientRect().x;
                                currY = e.clientY - canvas.getBoundingClientRect().y;
                                // ctx.lineTo( currX, currY);
                                // ctx.stroke();
                                distance = Math.sqrt( Math.pow((currX-prevX),2) + Math.pow((currY-prevY),2) ) / ppi
                                console.log(currX,currY,prevX,prevY)
                                angle = Math.atan((currY-prevY)/(currX-prevX))*180/Math.PI

                                if (currX>prevX) {
                                    angle = -1*Math.atan((currY-prevY)/(currX-prevX))*180/Math.PI
                                    if (angle<0) {
                                        angle = 360+angle
                                    }
                                } else if (currX==prevX) {
                                    angle = Math.atan((currY-prevY)/(currX-prevX))*180/Math.PI
                                } else {
                                    angle = 180-Math.atan((currY-prevY)/(currX-prevX))*180/Math.PI
                                }

                                if (angle == 90 && currY > prevY) {
                                    angle = 270
                                }

                                // if angle
                                console.log("Distance: "+distance*10/10+"in; "+distance*2.54*10/10+"cm; "+angle+" deg")
                                // document.getElementById("distance").innerHTML = "Distance: "+Math.round(distance*10)/10+"in; "+Math.round(distance*2.54*10)/10+"cm"
                                context.font = "24px Arial";
                                context.fillStyle = "white";
                                if (drawmode == "line") {
                                    width = ctx.measureText(Math.round(distance*2.54*10)/10+"cm; "+Math.round(angle)+"°").width
                                    ctx.fillRect(currX,currY+5,width,-25)
                                    context.fillStyle = "blue";
                        
                                    context.fillText(Math.round(distance*2.54*10)/10+"cm; "+Math.round(angle)+"°", currX, currY);
                                }
                                
                            }
                        
                        }
                       
                        </script>
                </div>
                <!-- </td>
    </tr>
  </table> -->
                <div style="width: 30em; height: 30em;" data-role="popup" id="popupMap" data-overlay-theme="b" data-theme="b" data-corners="false" data-tolerance="15,15">
                    <h2><text id="drawingsText">Drawings</text></h2>

                    <a href="#" data-rel="back" data-role="button" data-theme="b" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a>
                    <div style="margin:5px">
                        <button class="button" onclick="svimg(); mymaxDP = window.localStorage.canvasImage.split('|').length-1; alert(doneText)" data-inline="true" style=""><text id="saveDrawingText">Save Drawing</text></button>
                        <button onclick="window.localStorage.canvasImage = ''; document.getElementById('saveidDP').max = 1 ; alert(doneText)" data-inline="true"><text id="deleteSavedDrawingsText">Delete All Saved
                                Drawings</text></button>

                        <br>

                        <table>
                            <tr>
                                <td>
                                    <button data-inline="true" onclick="
             loadsaveDP(window.localStorage.canvasImage.split('|')[parseInt(document.getElementById('saveidDP').value)]);
             loadsaveDP(window.localStorage.canvasImage.split('|')[parseInt(document.getElementById('saveidDP').value)]);
             setTimeout(function() {
             loadsaveDP(window.localStorage.canvasImage.split('|')[parseInt(document.getElementById('saveidDP').value)]);
             }, 200);
             alert(doneText);
             "><text id="loadSavedDrawingText">Load saved drawing</text></button>
                                </td>
                                <td>
                                    <script>
                                        if (window.localStorage.canvasImage == undefined) {
                                            window.localStorage.canvasImage = ''
                                        }
                                        mymaxDP = window.localStorage.canvasImage.split('|').length - 1;
                                    </script>
                                    <input id="saveidDP" type="text" data-inline="true" data-role="spinbox" onchange="if (mymaxDP < this.value) {this.value = mymaxDP} " min="1" value="1">
                                </td>

                            </tr>
                        </table>

                        <br>
                        <br>
                        <div id="drawSaveShare" class=".no-mobile">
                            <a style="display:none; position: fixed;    bottom: -10000;   left: -100000;" id="exportDP" href="#">Export
                                Saves</a>
                            <button data-inline="true" class="ui-mini no-mobile" onclick="document.getElementById('exportDP').click(); "><text
                                    id="exportSavedDrawingsText">Export
                                    Saved Drawings</text></button>
                            <script type="text/javascript">
                                var anchor = document.getElementById('exportDP');
                                anchor.onclick = function() {
                                    var currentTime = new Date()
                                    var day = currentTime.getDate()
                                    anchor.href = 'data:text/plain;charset=utf-8,' + encodeURIComponent(window.localStorage.canvasImage);
                                    anchor.download = day + 'mydrawings.DRCI';
                                    //     setTimeout(function(){   ;  anchor.href = 'data:text/plain;charset=utf-8,' + encodeURIComponent(window.localStorage.DRAA1scorer);    anchor.download = day + 'myscores.AA1EV3';}, 50)
                                };
                            </script>

                            <button class="ui-mini no-mobile" data-inline="true" onclick="// alert('choose .DRCI file') ;
                        document.getElementById('fileInputDP').click() "><text id="importSavedDrawingsText">Import Saved
                                    Drawings</text></button>

                            <button data-inline="true" class="no-mobile" onclick="exporter();"><text
                                    id="exportPNGText">Export Drawing
                                    as PNG</text></button>
                            <input onchange="" style=" display:none; position: fixed;    bottom: -10000;   left: -100000; " type="file" id="fileInputDP" accept=".DRCI"><br>
                            <!--Drawplan Scoring System Version 4.2.0 scorer<br>-->
                        </div>

                            <div id="pastDraws"> </div>
                            <script>
                                function showPastDraws() {
                                    i = 1
                                    document.getElementById("pastDraws").innerHTML = ""
                                    while (i < window.localStorage.canvasImage.split("|").length) {
                                        document.getElementById("pastDraws").innerHTML += "<text>" + saveNText + " " + i + ":<br> <img style='max-width:300px;' src='" + window.localStorage.canvasImage.split("|")[i] + "' width='100%'></text><br>"
                                        i++
                                    }
                                }
                            </script>
                    </div>
                </div>

                <center>
                    <article>

                        <p><input style="position: fixed; top:-100px;" id="imageLoader" name="imageLoader" type="file">
                        </p>
                        <i style="display: none;" id="status">File API &amp; FileReader API not supported</i>
                    </article>
                </center>

                <center id="wPaint-img"></center>
                <script type="text/javascript">
                    function OpenInNewTab(url) {
                        var win = window.open(url, '_blank');
                        win.focus();
                    }
                    var dataUrl;
                    var imageData = $("#wPaint").wPaint("image");

                    $("#canvasImage").attr('src', imageData);
                    $('#wPaint').wPaint('image', '<image_data>');

                    var images = [
                        'assets/images/head.jpg',
                    ];

                    function saveImg() {}
                    
                    function svimg() {
                        //      var imgCanvas = document.getElementById('wPaint-canvas');
                        //     var imgAsDataURL = imgCanvas.toDataURL("image/png");


                        realimgCanvas = document.getElementById('wPaint-canvas');
                        imgCanvas = document.getElementById('tmpCanvas');
                        var ctx = imgCanvas.getContext("2d");

                        img = document.getElementById("mat");
                        ctx.drawImage(img, 0, 0,  document.getElementById('tmpCanvas').width,  document.getElementById('tmpCanvas').height);

                        var origCtx = imgCanvas.getContext('2d');

                        ctx.drawImage(realimgCanvas, 0, 0,  document.getElementById('tmpCanvas').width,  document.getElementById('tmpCanvas').height);

                        imgAsDataURL = imgCanvas.toDataURL("image/png");

                        window.localStorage.canvasImage = window.localStorage.canvasImage + '|' + imgAsDataURL;
                        showPastDraws()
                    }


                    function loadImgBg() {}

                    function loadImgFg() {};



                    function loadsaveDP(data) {
                        document.getElementById('tmpimgholder').src = data;
                        var c = document.getElementById("wPaint-canvas");
                        var ctx = c.getContext("2d");
                        var img = document.getElementById("tmpimgholder");
                        ctx.drawImage(img, 0, 0, c.width, c.height);

                    }




                    // init wPaint
                    $('#wPaint').wPaint({
                        path: './',
                        menuOffsetLeft: -35,
                        menuOffsetTop: -50,
                        saveImg: saveImg,
                        loadImgBg: loadImgBg,
                        loadImgFg: loadImgFg,
                    });
                    $(function() {
                        $("#btnSave").click(function() {
                            html2canvas($("#widget"), {
                                onrendered: function(canvas) {
                                    theCanvas = canvas;
                                    document.body.appendChild(canvas);

                                    // Convert and download as image
                                    Canvas2Image.saveAsPNG(canvas);
                                    $("#img-out").append(canvas);
                                    // Clean up
                                    //document.body.removeChild(canvas);
                                }
                            });
                        });
                    });
                </script>
                <script>
                    //var img;
                    var imageLoader = document.getElementById('imageLoader');
                    imageLoader.addEventListener('change', handleImage, false);
                    var canvas = document.getElementById('wPaint-canvas');
                    var ctx = canvas.getContext('2d');


                    function handleImage(e) {}
                </script>
                <script>
                    function exporter() {
                        realimgCanvas = document.getElementById('wPaint-canvas');
                        imgCanvas = document.getElementById('tmpCanvas');
                        imgAsDataURL = imgCanvas.toDataURL("image/png");
                        var ctx = imgCanvas.getContext("2d");

                        img = document.getElementById("mat");
                        ctx.drawImage(img, 0, 0, tmpCanvas.width, tmpCanvas.height);

                        var origCtx = imgCanvas.getContext('2d');

                        ctx.drawImage(realimgCanvas, 0, 0, tmpCanvas.width, tmpCanvas.height);

                        link = document.getElementById("downloadPic")
                        link.href = imgCanvas.toDataURL("image/jpg");
                        link.click()
                    }

                    image = ''

                    function rewrite() {}





                    window.onload = function() {
                        //document.getElementById('noshark').click()
                        //    check_missions('shark');recalc(0,'shark',1);$('#noallsamples').checkboxradio('disable');$('#yesallsamples').checkboxradio('disable');
                        var fileInputDP = document.getElementById('fileInputDP');
                        fileInputDP.addEventListener('change', function(e) {
                            var file = fileInputDP.files[0];
                            var textType = /text.*/;
                            if (1 == 1) {
                                var reader = new FileReader();
                                reader.onload = function(e) {
                                    data = reader.result;
                                    //alert(data)
                                    window.localStorage.canvasImage = data;
                                    alert(doneText)
                                }
                                reader.readAsText(file);
                            } else {}
                        });
                    }
                </script>





            </div>
        </div>
        <!-- <div class="no-print no-tournament" data-role="navbar">
            <div data-hide-during-focus="" data-tap-toggle="false" data-role="header" data-position="fixed">

                <ul>
                    <li><a id="scorerTitle" class="ui-btn-active" href="#tabs-1">Scorer</a></li>
                    <li><a id="timersTitle" href="#tabs-2">Timers</a></li>
                    <li><a id="savesTitle" href="#tabs-3">Saves</a></li> 
                    <li><a id="sketchTitle" href="#tabs-4">Sketch Planner</a></li>
                </ul>
            </div>
        </div> -->


    </div>

    <noscript>Please enable JavaScript to continue using this application.</noscript>
    <div style="padding-left: 10px; " class="no-print">

        <!--  <text id="tournamentText">Tournament</text><br><br>-->

        <text id="revisionText">Scorer </text> <text id="versionText">v3.6.0</text>
        <!-- Scorer v3.5.0 -->
        <br>
        <br><text id="copyrightText">Copyright</text><br>
        <br>
        <text id="translatorCredit">Translated</text>
    </div>
    <br>
    <br>
    <br>
    </div>

</body>

<script>
    window.onload = function() {
        initpage();
        // displaysaves();
        // drawBasic();
        // loadsave(blanksave);
        // check_missions();
        // check_missions('piperemoval');
        // recalc(0,'piperemoval',0);

        var fileInput = document.getElementById('fileInput');

        fileInput.addEventListener('change', function(e) {
            var file = fileInput.files[0];
            var textType = /text.*/;

            var reader = new FileReader();

            reader.onload = function(e) {
                data = reader.result;
                //alert(data)

                window.localStorage.DRRPSscorer = data.split(';')[0];
                window.localStorage.DRRPS1scorer = data.split(';')[1];
                maximum = window.localStorage.DRRPSscorer.split('/').length - 1
            }

            reader.readAsText(file);

        });

    }
</script>

<script>
    (function(i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function() {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-65893558-1', 'auto');
    ga('send', 'pageview');
</script>

<div style="display:none" class="no-mobile">

    <a target="_blank" class="no-print" href="https://play.google.com/store/apps/details?id=com.ev3lessons.fllcityshaperscorer">
        <img id="googleplay" height="100" src="assets/google-play/en_get.svg"></a><br>

    <a target="_blank" class="no-print" href="https://apps.apple.com/app/fll-city-shaper-scorer/id1473760751?ls=1">
        <img id="appstore" height="68" style="padding: 15px" src="assets/app-store/en.svg"></a>


</div>

<style>
    @media (prefers-color-scheme: dark) {
        .timer {
            border: 10px solid #121212;
            border-collapse: collapse;
        }
        .ui-radio-off {
            background-color: #121212 !important;
            color: white !important;
            text-shadow: none !important;
        }
        .ui-btn {
            background-color: #121212 !important;
            color: white !important;
            text-shadow: none !important;
        }
        .ui-btn-active {
            background-color: #8aac4a !important;
            color: white !important;
            text-shadow: none !important;
        }
        .ui-radio-on {
            background-color: #8aac4a !important;
            color: white !important;
            text-shadow: none !important;
        }
        #timerChild {
            border: 10px solid white !important;
        }
        #stopwatchChild {
            border: 10px solid white !important;
        }
        #contentload {
            background-color: #121212 !important;
            color: white;
            text-shadow: none;
        }
        #wholeBody {
            background-color: #121212 !important;
        }
        .ui-popup {
            background-color: #121212 !important;
        }
        Table {
            border: 1px solid white !important;
        }
        Text {
            color: white !important;
            fill: white !important;
            text-shadow: none;
        }
        .timer {
            border: 10px solid white !important;
        }
        .ui-page {
            background-color: #121212 !important;
        }
        #loadingGif {
            background-color: #121212 !important;
        }
        #savesTitle {
            background-color: #121212 !important;
            color: white !important;
            text-shadow: none !important;
        }
        #saves {
            background-color: #121212 !important;
            color: white !important;
            text-shadow: none !important;
        }
    }
    
    .timer {
        border: 10px solid black;
    }
    
    .ui-mobile .ui-page-active {
        display: block;
        overflow: visible;
        overflow-x: visible !important;
    }
    /* .ui-shadow-inset {
    display: none !important;
  } */
    
    #tabs-3-popup {
        width: 90% !important;
        /*  left: 5% !important; */
        max-width: 90% !important;
        /*   top: 35.5px !important;*/
        margin: 10px !important;
    }
    
    #popupMap {
        margin: 0px !important;
        height: 100% !important;
        width: 600px !important;
    }
    
    .ui-icon-delete {
        padding: 5px !important;
        width: 1.75em;
        height: 1.75em;
        text-indent: -9999px;
        white-space: nowrap !important;
    }
    
    @media only screen and (max-width: 600px) {
        #tabs-3-popup {
            width: 100% !important;
            left: 0px !important;
            max-width: 100% !important;
            /*   top: 35.5px !important;*/
            margin: 0px !important;
        }
        #popupMap-popup {
            width: 100% !important;
            left: 0px !important;
            max-width: 100% !important;
            /*   top: 35.5px !important;*/
            margin: 0px !important;
        }
        #popupMap {
            margin: 0px !important;
            width: 100% !important;
        }
        .ui-popup {
            /* height: 100% !important; */
        }
        .ui-popup-container {
            /* height: 100% !important; */
        }
        #saveContent {
            margin-right: 10px !important;
        }
        .ui-icon-delete {
            padding: 10px !important;
            width: 1.75em;
            height: 1.75em;
            text-indent: -9999px;
            white-space: nowrap !important;
        }
    }
</style>
<div id="styleBlank"></div>
<script>
    function checkDarkTheme() {
        var ua = window.navigator.userAgent;
        var isIE = /MSIE|Trident/.test(ua);

        if (!isIE) {
            // Android fix for enabling dark mode, see native implementation in MainActivity.java
            if (window.navigator.userAgent.includes('AndroidDarkMode')) {
                document.getElementById("styleBlank").innerHTML = " <style>\
       .timer {\
            border: 10px solid #121212;\
            border-collapse: collapse;\
        }\
        .ui-radio-off {\
            background-color: #121212 !important;\
            color: white !important;\
            text-shadow: none !important;\
        }\
        .ui-btn {\
            background-color: #121212 !important;\
            color: white !important;\
            text-shadow: none !important;\
        }\
        .ui-btn-active {\
            background-color: #8aac4a !important;\
            color: white !important;\
            text-shadow: none !important;\
        }\
        .ui-radio-on {\
            background-color: #8aac4a !important;\
            color: white !important;\
            text-shadow: none !important;\
        }\
        #timerChild {\
            border: 10px solid white !important;\
        }\
        #stopwatchChild {\
            border: 10px solid white !important;\
        }\
        #contentload {\
            background-color: #121212 !important;\
            color: white;\
            text-shadow: none;\
        }\
        #wholeBody {\
            background-color: #121212 !important;\
        }\
        .ui-popup {\
            background-color: #121212 !important;\
        }\
        Table {\
            border: 1px solid white !important;\
        }\
        Text {\
            color: white !important;\
            fill: white !important;\
            text-shadow: none;\
        }\
        .timer {\
            border: 10px solid white !important;\
        }\
        .ui-page {\
            background-color: #121212 !important;\
        }\
        #loadingGif {\
            background-color: #121212 !important;\
        }\
        #savesTitle {\
            background-color: #121212 !important;\
            color: white !important;\
            text-shadow: none !important;\
        }\
        #saves {\
            background-color: #121212 !important;\
            color: white !important;\
            text-shadow: none !important;\
        }\
</style>"
                    // Apply dark theme or set theme css variables to dark
                    /*	  i = 0
                          while (i<document.getElementsByClassName("timer").length) {
                              document.getElementsByClassName("timer")[i].style.border = "10px solid #121212"
                              i=i+1
                          }
                          i = 0
                          while (i<document.getElementsByClassName("ui-radio-off").length) {
                              document.getElementsByClassName("ui-radio-off")[i].style.backgroundColor = "#121212"
                              document.getElementsByClassName("ui-radio-off")[i].style.color = "white"
                              document.getElementsByClassName("ui-radio-off")[i].style.textShadow = "none"
                              i=i+1
                          }
                          i = 0
                          while (i<document.getElementsByClassName("ui-btn").length) {
                              document.getElementsByClassName("ui-btn")[i].style.backgroundColor = "#121212"
                              document.getElementsByClassName("ui-btn")[i].style.color = "white"
                              document.getElementsByClassName("ui-btn")[i].style.textShadow = "none"
                              i=i+1
                          }
                          i = 0
                          while (i<document.getElementsByClassName("ui-btn-active").length) {
                              document.getElementsByClassName("ui-btn-active")[i].style.backgroundColor = "#8aac4a"
                              document.getElementsByClassName("ui-btn-active")[i].style.color = "white"
                              document.getElementsByClassName("ui-btn-active")[i].style.textShadow = "none"
                              i=i+1
                          }
                          i = 0
                          while (i<document.getElementsByClassName("ui-radio-on").length) {
                              document.getElementsByClassName("ui-radio-on")[i].style.backgroundColor = "#8aac4a"
                              document.getElementsByClassName("ui-radio-on")[i].style.color = "white"
                              document.getElementsByClassName("ui-radio-on")[i].style.textShadow = "none"
                              i=i+1
                          }  

                          document.getElementById("timerChild").style.border = "10px solid white !important"
                          document.getElementById("stopwatchChild").style.border = "10px solid white !important"
                          document.getElementById("contentload").style.backgroundColor = "#121212"
                          document.getElementById("contentload").style.color = "white"
                          document.getElementById("contentload").style.textShadow = "none"
                          document.getElementById("wholeBody").style.backgroundColor = "#121212"
                          i = 0
                          while (i<document.getElementsByClassName("ui-popup").length) {
                              document.getElementsByClassName("ui-popup")[i].style.backgroundColor = "#8aac4a"
                              i=i+1
                          }
                          */
                return true;
            } else {
                document.getElementById("styleBlank").innerHTML = ""
                return false
            }
        }
    }
</script>
<script>
    ct=0
    function initpage() {
        context = ctx;
        if (ct==0){
            drawBoard()
            ct = 1
        }
        // if (window.localStorage.DRRPGoogleSheet != undefined) {
        //     document.getElementById('sheetId').value = window.localStorage.DRRPGoogleSheet;
        //     } else {
        // 	document.getElementById('sheetId').value = undefinedText;
        //     }


        if (language == 'he' || language == 'ar') {
            document.getElementById("wholeBody").style.textAlign = "right"
        } else {
            document.getElementById("wholeBody").style.textAlign = "left"

        }

        countrycode = language.split('-')[0]
        if (language == 'he') {
            countrycode = "iw"
        }

        // document.getElementById("appstore").src = "assets/app-store/" + language + ".svg"
        // document.getElementById("googleplay").src = "assets/google-play/" + countrycode + "_get.svg"

        document.getElementById('title').innerHTML = sketchTitle
        // document.getElementById('resetTxt').value = resetText
        // $('#resetTxt').button('refresh');

        // document.getElementById('pointsTxt').innerHTML = pointsText
        // document.getElementById('pointsTxt2').innerHTML = pointsText + ": "


        // document.getElementById('saveText').innerHTML = savescoreText
        // document.getElementById('loadText').innerHTML = loadsaveText
        // document.getElementById('deleteText').innerHTML = deletesaveText
        // document.getElementById('importText').innerHTML = importsaveText
        // document.getElementById('exportText').innerHTML = exportsaveText

        // document.getElementById('saveGoogleBtn').innerHTML = savescoreText
        // document.getElementById('loadTextGoogle').innerHTML = loadsaveText


        // document.getElementById('startText').innerHTML = startText
        // document.getElementById('stopText').innerHTML = stopText
        // document.getElementById('resetText').innerHTML = resetText

        // document.getElementById('startSW').innerHTML = startText
        // document.getElementById('stopSW').innerHTML = stopText
        // document.getElementById('resetSW').innerHTML = resetText

        // document.getElementById('scorerTitle').innerHTML = scorerText
        // document.getElementById('timersTitle').innerHTML = timersText
        // document.getElementById('savesTitle').innerHTML = savesText

        // document.getElementById('signin-Google').innerHTML = signin
        // document.getElementById('signout-Google').innerHTML = signout
        // document.getElementById('GoogleCreate').innerHTML = GoogleCreate
        // document.getElementById('GoogleOpen').innerHTML = GoogleOpen
        // document.getElementById('googleText').innerHTML = googleSaveText
        // document.getElementById('localText').innerHTML = localSaveText

        // document.getElementById('isIE').innerHTML = isIE
        // document.getElementById('googleIntro').innerHTML = googleIntro
        // document.getElementById('pastSaves').innerHTML = pastSaves
        // document.getElementById('instructions').innerHTML = instructions
        // document.getElementById('instructionsA').innerHTML = instructionsA
        // document.getElementById('instructionsB').innerHTML = instructionsB
        // document.getElementById('instructionsC').innerHTML = instructionsC
        // document.getElementById('instructionsD').innerHTML = instructionsD
        // document.getElementById('instructionsE').innerHTML = instructionsE
        // document.getElementById('instructionsF').innerHTML = instructionsF
        // document.getElementById('instructionsG').innerHTML = instructionsG

        // document.getElementById('teamText').innerHTML = teamText
        // document.getElementById('roundText').innerHTML = roundText

        document.getElementById('drawingsText').innerHTML = drawingsText
        document.getElementById('saveDrawingText').innerHTML = saveDrawingText
        document.getElementById('deleteSavedDrawingsText').innerHTML = deleteSavedDrawingsText
        document.getElementById('loadSavedDrawingText').innerHTML = loadSavedDrawingText
        document.getElementById('exportSavedDrawingsText').innerHTML = exportSavedDrawingsText
        document.getElementById('importSavedDrawingsText').innerHTML = importSavedDrawingsText
        document.getElementById('exportPNGText').innerHTML = exportPNGText
            // document.getElementById('sketchTitle').innerHTML = sketchTitle

        // document.getElementById('timerText').innerHTML = timerText
        // document.getElementById('stopwatchText').innerHTML = stopwatchText

        document.getElementById('revisionText').innerHTML = revisionText
        document.getElementById('copyrightText').innerHTML = copyrightText

        // document.getElementById('systemText').innerHTML = systemText

        // document.getElementById('idText').innerHTML = idText

        document.getElementById('versionText').innerHTML = versionText

        //	document.getElementById('tournamentText').innerHTML = tournamentText

        if (translatorCredit != "") {
            document.getElementById('translatorCredit').innerHTML = translatorCredit
        } else {
            document.getElementById('translatorCredit').className = "no-mobile"
            document.getElementById('translatorCredit').innerHTML = ""
        }

        //   if ((navigator.userAgent.indexOf("MSIE") != -1 ) || (!!document.documentMode == true )) {
        // document.getElementById('notIE').style.display = 'none'
        //   } else {
        // document.getElementById('isIE').style.display = 'none'
        //   }



        // displaysaves()
        // drawBasic()

        showPastDraws()

        // blanksave = getvar()

        document.getElementById('contentload').style.display = 'block'
        document.getElementById('loadingGif').style.display = 'none'

        checkDarkTheme()
            // loadsave(blanksave)


    }

    function switchLanguage() {
        document.getElementById('contentload').style.display = 'none'
        document.getElementById('loadingGif').style.display = 'inline'
        languageInit()
        initpage()
        showPastDraws()

        // var variables = ""
        // for (var name in this) {
        //     if (name[0] == "M" && name != "API_KEY") {
        //         variables += name + "\n";
        //         console.log(name)
        //         document.getElementById(name).innerHTML = window[name]
        //     }

        //     if (name.indexOf("yesText") != -1) {
        //         variables += name + "\n";
        //         console.log(name)
        //         document.getElementById(name).innerHTML = yes
        //     }

        //     if (name.indexOf("noText") != -1) {
        //         variables += name + "\n";
        //         console.log(name)
        //         document.getElementById(name).innerHTML = no
        //     }

        //     if (name.indexOf("partlyText") != -1) {
        //         variables += name + "\n";
        //         console.log(name)
        //         document.getElementById(name).innerHTML = partly
        //     }

        //     if (name.indexOf("completelyText") != -1) {
        //         variables += name + "\n";
        //         console.log(name)
        //         document.getElementById(name).innerHTML = completely
        //     }

        //     if (name.indexOf("mNum") != -1) {
        //         variables += name + "\n";
        //         console.log(name)
        //         document.getElementById(name).innerHTML = missionNumbering
        //     }

        // }

        // i = 0
        // while (i < document.getElementsByTagName("select").length) {
        //     var myselect = $("select#" + document.getElementsByTagName("select")[i].id);
        //     myselect[0].selectedIndex = myselect[0].selectedIndex;
        //     myselect.selectmenu("refresh");
        //     i = i + 1
        // }

    }

    initpage();



    // Query for the toggle that is used to change between themes

    // Listen for the toggle check/uncheck to toggle the dark class on the <body>

    // Listen for changes to the prefers-color-scheme media query



    // Called by the media query to check/uncheck the toggle
</script>

</html>